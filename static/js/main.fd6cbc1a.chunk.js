(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,a,t){},37:function(e,a,t){e.exports=t(61)},48:function(e,a,t){},50:function(e,a,t){},51:function(e,a,t){},52:function(e,a,t){},53:function(e,a,t){},54:function(e,a,t){},55:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){},59:function(e,a,t){},60:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(21),l=t.n(s),c=t(13),i=(t(31),t(33)),o=t.n(i),m=t(17),u=t(34),d=t(15),h={SAVE_RESTAURANTS:"SAVE_RESTAURANTS",SET_LOAD_RESTAURANTS_ERROR:"SET_LOAD_RESTAURANTS_ERROR",START_LOADING:"START_LOADING",STOP_LOADING:"STOP_LOADING",SAVE_RESTAURANT:"SAVE_RESTAURANT",SAVE_SEARCH:"SAVE_SEARCH"},p=function(e){return{type:h.SET_LOAD_RESTAURANTS_ERROR,payload:e}},_=function(e){return{type:h.SAVE_SEARCH,payload:e}},f=function(){return function(e){e({type:h.START_LOADING}),fetch("https://mate-uber-eats-api.herokuapp.com/api/v1/restaurants").then(function(e){return e.json()}).then(function(a){var t=a.data;e(function(e){return{type:h.SAVE_RESTAURANTS,payload:e}}(t))}).catch(function(a){return e(p(a.message))}).finally(function(){return e({type:h.STOP_LOADING})})}},E=function(e){return function(a){fetch("https://mate-uber-eats-api.herokuapp.com/api/v1/restaurants/".concat(e)).then(function(e){return e.json()}).then(function(e){var t=e.data;a(function(e){return{type:h.SAVE_RESTAURANT,payload:e}}(t))}).catch(function(e){return a(p(e.message))})}},g={restaurantsListData:null,restaurantListInfo:null,isLoading:!1,error:null,search:""};var v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.c,b=[u.a],N=Object(m.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case h.SAVE_SEARCH:var t=a.payload;return Object(d.a)({},e,{search:t});case h.SAVE_RESTAURANT:var n=a.payload;return Object(d.a)({},e,{error:null,restaurantListInfo:n});case h.SAVE_RESTAURANTS:var r=a.payload;return Object(d.a)({},e,{error:null,restaurantsListData:r});case h.SET_LOAD_RESTAURANTS_ERROR:var s=a.payload;return Object(d.a)({},e,{error:s,restaurantsListData:null});case h.START_LOADING:return Object(d.a)({},e,{isLoading:!0});case h.STOP_LOADING:return Object(d.a)({},e,{isLoading:!1});default:return e}},v(m.a.apply(void 0,b))),S=t(20),y=t(6),k=t(7),O=t(9),A=t(8),w=t(10),R=(t(48),t(23)),D=function(e){var a=e.imageUrl,t=e.title,n=e.categories,s=e.etaRange,l=e.uuid;return r.a.createElement(R.b,{className:"Link",to:"/info?".concat(l)},r.a.createElement("div",{className:"restaurant-card"},r.a.createElement("img",{src:a,alt:t,className:"restaurant-card__img"}),r.a.createElement("h2",{className:"restaurant-card__title"},t),r.a.createElement("div",{className:"restaurant-card__categories"},n.join(" \u2022 ")),r.a.createElement("div",{className:"restaurant-card__eta"},s)))};D.defaultProps={categories:[],etaRange:""};t(50),t(51);var T=function(){return r.a.createElement("div",{className:"loader-container"},r.a.createElement("div",{className:"lds-default"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))},j=(t(52),function(e){var a=e.message;return r.a.createElement("div",{className:"error"},r.a.createElement("p",{className:"error__text"},a),r.a.createElement("a",{href:"/react_uber-eats",className:"error__link"},"Go to Home"))});j.defaultProps={message:"Sorry, something went wrong"};var C=function(e){function a(){return Object(y.a)(this,a),Object(O.a)(this,Object(A.a)(a).apply(this,arguments))}return Object(w.a)(a,e),Object(k.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.loadRestaurants)()}},{key:"render",value:function(){var e=this.props,a=e.restaurantsData,t=e.error,n=e.isLoading,s=e.search,l=Object(S.a)(a);return n?r.a.createElement(T,null):t?r.a.createElement(j,{message:t}):(console.log(this.props),""!==s.trim()&&(l=l.filter(function(e){return e.title.toLowerCase().includes(s.toLowerCase())})),r.a.createElement("div",{className:"restaurants-list"},l.map(function(e){var a=e.uuid,t=e.title,n=e.heroImageUrl,s=e.categories,l=e.etaRange;return r.a.createElement(D,{key:a,uuid:a,title:t,imageUrl:n,categories:s,etaRange:l.text||"20 - 30 min"})})))}}]),a}(n.Component);C.defaultProps={restaurantsData:[],error:null,isLoading:!1};var L=t(18),F=function(e){return e},U=Object(L.a)(F,function(e){var a=e.restaurantsListData;if(!a)return[];var t=a.feedItems,n=a.storesMap;return t.map(function(e){var a=e.uuid;return n[a]})}),I=Object(L.a)(F,function(e){return e.search}),V=Object(L.a)(F,function(e){return e.restaurantListInfo}),M=Object(L.a)(F,function(e){return e.error}),x=Object(L.a)(F,function(e){return e.isLoading});var P={loadRestaurants:f,loadRestaurant:E,saveSearch:_},G=Object(c.b)(function(e){return{restaurantsData:U(e),error:M(e),isLoading:x(e),restaurantListInfo:V(e),search:I(e)}},P)(C),B=t(16),H=(t(53),t(54),t(28)),X=t.n(H),q=function(e){function a(){var e,t;Object(y.a)(this,a);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(t=Object(O.a)(this,(e=Object(A.a)(a)).call.apply(e,[this].concat(s)))).state={isFocused:!1},t.inputRef=Object(n.createRef)(),t.handleFocus=function(){return t.setState({isFocused:!0})},t.handleBlur=function(){return t.setState({isFocused:!1})},t.focus=function(){return t.inputRef.current.focus()},t}return Object(w.a)(a,e),Object(k.a)(a,[{key:"render",value:function(){var e=this.props,a=e.iconUrl,t=e.value,n=e.onChange,s=e.type,l=e.placeholder,c=e.name,i=e.className,o=e.isSmall,m=e.label,u=this.state.isFocused,d=X()("control__input-wrapper--focused",Object(B.a)({"control__input-wrapper--focused":u},i,!!i)),h=X()("control__input",{"control__input--small":o,"control__input--time":"time"===s});return r.a.createElement("label",{className:"control"},m&&r.a.createElement("p",{className:"control__label"},m),r.a.createElement("div",{className:d},!!a&&r.a.createElement("img",{src:a,alt:l,className:"control__icon"}),r.a.createElement("input",{ref:this.inputRef,type:s,value:t,onChange:n,onFocus:this.handleFocus,onBlur:this.handleBlur,name:c,placeholder:l,className:h})))}}]),a}(n.PureComponent);q.defaultProps={iconUrl:"",type:"text",placeholder:"",className:"",isSmall:!0,label:""};var J=function(e){function a(){var e,t;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(O.a)(this,(e=Object(A.a)(a)).call.apply(e,[this].concat(r)))).state={address:"",time:"",isMobileSearchVisible:!1,isMobileDeliveryInfoVisible:!1},t.handleChange=function(e){var a=e.target;t.setState(Object(B.a)({},a.name,a.value))},t.toggleSearch=function(){return t.setState(function(e){return{isMobileSearchVisible:!e.isMobileSearchVisible,isMobileDeliveryInfoVisible:!1}})},t.toggleDeliveryInfo=function(){return t.setState(function(e){return{isMobileSearchVisible:!1,isMobileDeliveryInfoVisible:!e.isMobileDeliveryInfoVisible}})},t.closeMobile=function(){return t.setState({isMobileSearchVisible:!1,isMobileDeliveryInfoVisible:!1})},t}return Object(w.a)(a,e),Object(k.a)(a,[{key:"render",value:function(){var e=this.props,a=e.search,t=e.saveSearch,n=this.state,s=n.address,l=n.time,c=n.isMobileSearchVisible,i=n.isMobileDeliveryInfoVisible;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header__inner"},r.a.createElement("a",{href:"/react_uber-eats"},r.a.createElement("img",{src:"./images/logo.svg",alt:"Uber Eats",className:"header__logo"})),r.a.createElement("div",{className:"header__delivery-info"},r.a.createElement(q,{name:"address",value:s,onChange:this.handleChange,placeholder:"Address",iconUrl:"./images/place.svg"}),r.a.createElement(q,{name:"time",value:l,onChange:this.handleChange,placeholder:"Time",type:"time"})),r.a.createElement("div",{className:"header__search"},r.a.createElement(q,{name:"search",value:a,onChange:function(e){return t(e.target.value)},placeholder:"Search",iconUrl:"./images/search.svg"})),r.a.createElement("div",{className:"header__toggle-buttons"},r.a.createElement("button",{onClick:this.toggleDeliveryInfo,type:"button",className:"header__toggle-btn"},r.a.createElement("img",{src:"./images/place.svg",alt:"place icon"})),r.a.createElement("button",{onClick:this.toggleSearch,type:"button",className:"header__toggle-btn"},r.a.createElement("img",{src:"./images/search.svg",alt:"search icon"}))),r.a.createElement("a",{className:"header__link",href:"#"},"Sign In")),(c||i)&&r.a.createElement("div",{className:"header__mobile-controls mobile-controls"},c&&r.a.createElement(q,{label:"Find",name:"search",value:a,onChange:this.handleChange,placeholder:"Search",iconUrl:"./images/search.svg",isSmall:!1}),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(q,{label:"Where",name:"address",value:s,onChange:this.handleChange,placeholder:"Address",iconUrl:"./images/place.svg",isSmall:!1}),r.a.createElement(q,{label:"To",name:"time",value:l,onChange:this.handleChange,placeholder:"Time",type:"time",isSmall:!1})),r.a.createElement("button",{onClick:this.closeMobile,type:"button",className:"mobile-controls__close"},r.a.createElement("img",{src:"./images/close.svg",alt:"search icon"})))))}}]),a}(n.Component);var W={saveSearch:_},z=Object(c.b)(function(e){return{search:I(e)}},W)(J),Q=(t(55),t(56),function(e){var a=e.name,t=e.value,n=e.onSelect,s=e.options,l=e.iconUrl;return r.a.createElement("div",{className:"select"},r.a.createElement("select",{name:a,value:t,onChange:n,className:"select__input"},s.map(function(e){var a=e.value,t=e.label;return r.a.createElement("option",{key:t,value:a},t)})),!!l&&r.a.createElement("img",{className:"select__icon",src:l,alt:"select icon"}),r.a.createElement("img",{className:"select__arrow",src:"./images/arrow-down.svg",alt:"arrow down"}))});Q.defaultProps={options:[],iconUrl:"",onSelect:function(){}};var K=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"footer__top-part"},r.a.createElement("div",{className:"footer__main"},r.a.createElement("div",{className:"footer__logo-container"},r.a.createElement("img",{className:"footer__logo",src:"./images/logo-white.svg",alt:"Uber Eats"}),r.a.createElement(Q,{name:"language",options:[{value:"en",label:"English"},{value:"ua",label:"Ukrainian"}],value:"en",iconUrl:"./images/world.svg"})),r.a.createElement("div",{className:"footer__mobile-apps"},r.a.createElement("a",{href:"https://1qt-1.tlnk.io/serve?action=click&site_id=113033&url_ios=https%3A%2F%2Fitunes.apple.com%2Fus%2Fapp%2Fuber-eats-food-delivery%2Fid1058959277&url_web=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.ubercab.eats&%243p=a_custom_47734&my_keyword=ubereatscom_iOScta_footer&ref_id=647110554.1574264537&sub1=8abcf256-cc3f-4cb5-828e-ecdbee658769&sub_campaign=web&my_placement=web",className:"footer__mobile-app"},r.a.createElement("img",{src:"./images/app-store.svg",alt:"App Store"})),r.a.createElement("a",{href:"https://1qt-1.tlnk.io/serve?action=click&site_id=113033&url_ios=https%3A%2F%2Fitunes.apple.com%2Fus%2Fapp%2Fuber-eats-food-delivery%2Fid1058959277&url_web=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.ubercab.eats&%243p=a_custom_47734&my_keyword=ubereatscom_androidcta_footer&ref_id=647110554.1574264537&sub1=8abcf256-cc3f-4cb5-828e-ecdbee658769&sub_campaign=web&my_placement=web",className:"footer__mobile-app"},r.a.createElement("img",{src:"./images/google-play.svg",alt:"Google Play"})))),r.a.createElement("div",{className:"footer__top-links links"},r.a.createElement("a",{href:"#",className:"links__link links__link--intended"},"About UberEats"),r.a.createElement("a",{href:"#",className:"links__link"},"Read our blog"),r.a.createElement("a",{href:"#",className:"links__link"},"Sign up to deliver"),r.a.createElement("a",{href:"#",className:"links__link"},"Add your restaurant")),r.a.createElement("div",{className:"footer__top-links links"},r.a.createElement("a",{href:"#",className:"links__link links__link--intended"},"Get help"),r.a.createElement("a",{href:"#",className:"links__link"},"Read FAQs"),r.a.createElement("a",{href:"#",className:"links__link"},"View all cities"))),r.a.createElement("div",{className:"footer__bottom-part"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2019 Uber Technologies Inc."),r.a.createElement("div",{className:"footer__misc"},r.a.createElement("div",{className:"footer__bottom-links links"},r.a.createElement("a",{href:"#",className:"links__link"},"Privacy policy"),r.a.createElement("a",{href:"#",className:"links__link"},"Terms of use"),r.a.createElement("a",{href:"#",className:"links__link"},"Pricing")),r.a.createElement("div",{className:"footer__social social"},r.a.createElement("a",{href:"https://www.facebook.com/ubereats",className:"social__link"},r.a.createElement("img",{src:"./images/fb.svg",alt:"facebook"})),r.a.createElement("a",{href:"https://www.twitter.com/ubereats",className:"social__link"},r.a.createElement("img",{src:"./images/tw.svg",alt:"twitter"})),r.a.createElement("a",{href:"https://www.instagram.com/ubereats",className:"social__link"},r.a.createElement("img",{src:"./images/ig.svg",alt:"instagram"})))))))},Y=t(14),Z=(t(57),t(36)),$=t.n(Z),ee=(t(59),function(e){function a(){var e,t;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(O.a)(this,(e=Object(A.a)(a)).call.apply(e,[this].concat(r)))).state={menuItems:null,error:!1},t}return Object(w.a)(a,e),Object(k.a)(a,[{key:"componentDidMount",value:function(){var e,a=this;return $.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:e=this.props.data,fetch("https://mate-uber-eats-api.herokuapp.com/api/v1/menu-items/".concat(e)).then(function(e){return e.json()}).then(function(e){var t=e.data;a.setState({menuItems:t})}).catch(function(e){return a.setState({error:e})}),window.scrollTo(80,0);case 3:case"end":return t.stop()}},null,this)}},{key:"render",value:function(){console.log(this.state);var e=this.props,a=(e.data,e.func);if(!1!==this.state.error)return r.a.createElement("div",{className:"errorWrap"},r.a.createElement(j,{message:"\u041f\u0440\u0438\u043d\u043e\u0441\u0438\u043c \u0441\u0432\u043e\u0438 \u0438\u0437\u0432\u0438\u043d\u0435\u043d\u0438\u044f"}));if(null===this.state.menuItems)return r.a.createElement(T,null);var t=this.state.menuItems,n=t.imageUrl,s=t.title,l=t.customizationsList;return r.a.createElement("div",{className:"changeDish"},r.a.createElement("img",{alt:s,className:"changeDish__img",src:n}),r.a.createElement("button",{className:"changeDish__button",onClick:function(){return a()}},"X"),r.a.createElement("h3",{className:"changeDish__title"},s),r.a.createElement("p",{className:"changeDish__itemDescription"},"Cheddar cheese, Boston lettuce, tomatoes, onion, pickles and firm sauce 275 g."),l.slice(0,6).map(function(e){var a=e.title,t=(e.maxPermitted,e.options),n=e.uuid;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{key:n,className:"changeDish-block"},r.a.createElement("h4",{className:"changeDish-block__title"},a),r.a.createElement("p",{className:"changeDish-block__des"},"Choose up to 3")),r.a.createElement("div",{key:n},t.slice(0,3).map(function(e){return r.a.createElement("label",{key:e.uuid,className:"check option"},r.a.createElement("input",{className:"check__input",type:"checkbox"}),r.a.createElement("span",{className:"check__box"}),r.a.createElement("span",{className:"text"},e.title))})))}))}}]),a}(n.Component)),ae=function(e){function a(){var e,t;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(O.a)(this,(e=Object(A.a)(a)).call.apply(e,[this].concat(r)))).state={activeSection:"","show\u0421hangeDish":!1,uuidDish:null},t}return Object(w.a)(a,e),Object(k.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.loadRestaurant)(window.location.href.match(/\?[\s\S]+/g)[0].replace(/\?/g,"")),window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,a=this.state,t=a.activeSection,n=a.show\u0421hangeDish,s=a.uuidDish,l=this.props.restaurantListInfo;if(!l)return r.a.createElement("div",{className:"wrapper"},r.a.createElement(T,null));var c=l.ratingBadge,i=l.title,o=l.categories,m=l.disclaimerBadge,u=l.sectionsMap,d=l.sections,h=l.entitiesMap,p=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.setState({uuidDish:a,"show\u0421hangeDish":!e.state.show\u0421hangeDish})};console.log(this.state);var _=Object(S.a)(Object.values(u)).filter(function(e){return d.includes(e.uuid)}),f=Object(S.a)(Object.values(h));function E(e){return{__html:e}}return r.a.createElement("div",{className:"section"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wrapper-\u0421hangeDish"},r.a.createElement(ee,{data:s,func:p})),r.a.createElement("span",{onClick:function(){return p()},className:"bc"})):null,r.a.createElement("div",{className:"restaurant-info"},r.a.createElement("div",{className:"restaurant-info-card"},r.a.createElement("p",{className:"restaurant-info-card__title"},i),r.a.createElement("p",{className:"restaurant-info-card__categories"},o.join(" \u2022 ")),r.a.createElement("p",{dangerouslySetInnerHTML:E(c.text)}),r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"restaurant-info__text",dangerouslySetInnerHTML:E(m.text)}),r.a.createElement("span",{className:"showe-text"}," \u2022 \xa0\xa0More info")))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"sections-list"},_.map(function(a,n){return r.a.createElement("a",{key:a.uuid,href:"#section-".concat(n),onClick:function(){return e.setState({activeSection:a.title})},className:"sections-list__item ".concat(t===a.title?"sections-list__item-active":"")},a.title)}),r.a.createElement("div",{className:"list-items"},_.map(function(e,a){return r.a.createElement("div",{className:"list-item",key:e.uuid},r.a.createElement("span",{className:"list-items__id",id:"section-".concat(a)}),r.a.createElement("h1",{className:"list-items__title"},e.title),r.a.createElement("div",{className:"list-items__content"},f.filter(function(a){return e.itemUuids.includes(a.uuid)}).map(function(e){return r.a.createElement("div",{onClick:function(){return p(e.uuid)},key:e.uuid,className:"list-items-dish"},r.a.createElement("div",{className:"list-items-dish__text"},r.a.createElement("h3",{className:"list-items-dish__title"},e.title),r.a.createElement("p",{className:"list-items-dish__price"},e.price)),r.a.createElement("img",{className:"list-items-dish__img",alt:e.title,src:e.imageUrl}))})))})))))}}]),a}(n.Component);var te={loadRestaurants:f,loadRestaurant:E},ne=Object(c.b)(function(e){return{restaurantsData:U(e),error:M(e),isLoading:x(e),restaurantListInfo:V(e)}},te)(ae);function re(){return r.a.createElement(c.a,{store:N},r.a.createElement(z,null),r.a.createElement(R.a,null,r.a.createElement(Y.c,null,r.a.createElement(Y.a,{path:"/react_uber-eats",exact:!0,render:function(){return r.a.createElement("main",{className:"page"},r.a.createElement("div",{className:"content"},r.a.createElement(G,null)))}}),r.a.createElement(Y.a,{path:"/info",render:function(){return r.a.createElement(ne,null)}}))),r.a.createElement(K,null),r.a.createElement(o.a,{StopPosition:0,ShowAtPosition:150,EasingType:"easeOutCubic",AnimationDuration:200,ContainerClassName:"ScrollUpButton__Container",TransitionClassName:"ScrollUpButton__Toggled",style:{width:"36px",height:"36px",backgroundColor:"#59BD5A",outline:"none",borderRadius:"18px",boxShadow:"0 2px 4px 0 #9b9b9b"}}))}t(60);l.a.render(r.a.createElement(re,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.fd6cbc1a.chunk.js.map